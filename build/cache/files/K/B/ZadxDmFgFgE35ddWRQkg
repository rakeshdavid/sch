1665722086
waR3U4bTeM%3Addfc2ddc2d3367da69bbc0c828f48c43-9a2991adf29edcc01cc229eb646de786
s:17484:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxMjp7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGhhc2giO3M6MzI6IjlhMjk5MWFkZjI5ZWRjYzAxY2MyMjllYjY0NmRlNzg2IjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWUiO3M6MTU6ImluZGV4LmJsYWRlLnBocCI7czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBwYXRoIjtzOjUxOiJyZXNvdXJjZXMvdmlld3MtMTEtMDUvYWRtaW4vY29hY2hlcy9pbmRleC5ibGFkZS5waHAiO3M6NDE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAc291cmNlIjtzOjEyMjg4OiJAZXh0ZW5kcygnbGF5b3V0cy5hcHAnKQpAc2VjdGlvbignY3NzJykKICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L3N3ZWV0YWxlcnQyLzUuMy40L3N3ZWV0YWxlcnQyLm1pbi5jc3MiPgogICAgPGxpbmsgdHlwZT0idGV4dC9jc3MiIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iL2Fzc2V0cy9qcy9kYXRhdGFibGVzL2RhdGF0YWJsZXMubWluLmNzcyI+CkBlbmRzZWN0aW9uCkBzZWN0aW9uKCdjb250ZW50JykKICAgIDxkaXYgY2xhc3M9InJvdyBtLWItMjAiPgogICAgICAgIDxkaXYgY2xhc3M9ImNvbC14cy0xMiI+CiAgICAgICAgICAgIDxoMz4gQ29hY2hlcyBMaXN0IDwvaDM+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8ZGl2IGNsYXNzPSJyb3cgbS1iLTIwIj4KICAgICAgICA8ZGl2IGNsYXNzPSJjb2wteHMtMTIiPgogICAgICAgICAgICA8dGFibGUgaWQ9ImNvYWNoZXMtdGFibGUiIGNsYXNzPSJ0YWJsZSB0YWJsZS1ob3ZlciB0YWJsZS1zdHJpcGVkIHRhYmxlLWJvcmRlcmVkIiBjZWxsc3BhY2luZz0iMCIKICAgICAgICAgICAgICAgICAgIHdpZHRoPSIxMDAlIj4KICAgICAgICAgICAgICAgIDx0aGVhZD4KICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICA8dGg+Rmlyc3QgbmFtZTwvdGg+CiAgICAgICAgICAgICAgICAgICAgPHRoPkxhc3QgbmFtZTwvdGg+CiAgICAgICAgICAgICAgICAgICAgPHRoPkVtYWlsPC90aD4KICAgICAgICAgICAgICAgICAgICA8dGg+QWN0aW9uPC90aD4KICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICA8L3RoZWFkPgogICAgICAgICAgICA8L3RhYmxlPgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CkBlbmRzZWN0aW9uCgpAc2VjdGlvbignanMnKQogICAgPHNjcmlwdCBzcmM9Ii9hc3NldHMvanMvZGF0YXRhYmxlcy9kYXRhdGFibGVzLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L3N3ZWV0YWxlcnQyLzUuMy40L3N3ZWV0YWxlcnQyLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0PgogICAgICAgIHZhciB0YWJsZSwKICAgICAgICAgICAgc3VjY2Vzc01zZyA9ICJ7eyBzZXNzaW9uKCktPmhhcygnc3VjY2VzcycpID8gc2Vzc2lvbignc3VjY2VzcycpIDogJycgfX0iLAogICAgICAgICAgICBlcnJvckxvZ2luVXNlciA9ICJ7eyBzZXNzaW9uKCktPmhhcygndXNlcicpID8gc2Vzc2lvbigndXNlcicpIDogJycgfX0iOwogICAgICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYoc3VjY2Vzc01zZyl7CiAgICAgICAgICAgICAgICBzd2FsKHN1Y2Nlc3NNc2cpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZihlcnJvckxvZ2luVXNlcil7CiAgICAgICAgICAgICAgICBzd2FsKAogICAgICAgICAgICAgICAgICAgICdFcnJvciEnLAogICAgICAgICAgICAgICAgICAgIGVycm9yTG9naW5Vc2VyLAogICAgICAgICAgICAgICAgICAgICdlcnJvcicKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGFibGUgPSAkKCcjY29hY2hlcy10YWJsZScpLkRhdGFUYWJsZSh7CiAgICAgICAgICAgICAgICAic2VydmVyU2lkZSI6IHRydWUsCiAgICAgICAgICAgICAgICAic2hvd0luZm8iOiB0cnVlLAogICAgICAgICAgICAgICAgIm9yZGVyYWJsZSI6IGZhbHNlLAogICAgICAgICAgICAgICAgImJTb3J0IiA6IGZhbHNlLAogICAgICAgICAgICAgICAgYWpheDogewogICAgICAgICAgICAgICAgICAgICJ1cmwiOiAieyEhIHJvdXRlKCdhZG1pbi5jb2FjaGVzLmRhdGEnKSAhIX0iICsgIj9fdG9rZW49IiArICd7eyBjc3JmX3Rva2VuKCkgfX0nCiAgICAgICAgICAgICAgICB9LAoKICAgICAgICAgICAgICAgICJjb2x1bW5zIjogWwogICAgICAgICAgICAgICAgICAgIC8vIEZpcnN0IG5hbWUKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJyZW5kZXIiOiBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICJ0YXJnZXRzIjogMCwKICAgICAgICAgICAgICAgICAgICAgICAgImNsYXNzTmFtZSI6ICJ0ZXh0LWxlZnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAiMTAlIgogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgLy8gTGFzdCBuYW1lCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAicmVuZGVyIjogZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhOwogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAidGFyZ2V0cyI6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICJjbGFzc05hbWUiOiAidGV4dC1sZWZ0IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIjEwJSIKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIC8vIEVtYWlsCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAicmVuZGVyIjogZnVuY3Rpb24gKGRhdGEsIHR5cGUsIHJvdywgbWV0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzVGVzdCA9IHJvd1szXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3RGF0YSA9ICcnOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1Rlc3QgPT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdEYXRhID0gcm93WzJdICsgJyA8c3BhbiBjbGFzcz0idGV4dC1kYW5nZXIiPlRlc3QgY29hY2ghPC9zcGFuPic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdEYXRhID0gcm93WzJdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2aWV3RGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgInRhcmdldHMiOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAiY2xhc3NOYW1lIjogInRleHQtbGVmdCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICIxMCUiCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAvLyBBY3Rpb24KICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICJyZW5kZXIiOiBmdW5jdGlvbiAoZGF0YSwgdHlwZSwgcm93LCBtZXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BsaXR0ZWQgPSByb3dbNF0udG9TdHJpbmcoKS5zcGxpdCgiOjoiKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlQnV0dG9uID0gIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9naW5CdXR0b24gPSAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXN0VXNlckJ1dHRvbiA9ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRCdXR0b24gPSAnPGEgaHJlZj0ie3sgdXJsKCdjb2FjaGVzL2VkaXQnKX19Lycrc3BsaXR0ZWRbMF0rJyIgdGl0bGU9IkVkaXQgdGhpcyBjb2FjaCI+PGkgY2xhc3M9ImZhIGZhLWVkaXQiPjwvaT48L2E+JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVCdXR0b24gPSAnPGEgY2xhc3M9Im0tbC0xMCBkZWxldGUtdXNlciIgaHJlZj0iamF2YXNjcmlwdDo7IiB0aXRsZT0iRGVsZXRlIHRoaXMgY29hY2giIG9uY2xpY2s9ImRlbGV0ZVVzZXIoJyArIHNwbGl0dGVkWzBdICsgJykiPjxpIGNsYXNzPSJmYSBmYS10cmFzaC1vIj48L2k+PC9hPic7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoc3BsaXR0ZWRbMV0gPT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVCdXR0b24gPSAnPGEgY2xhc3M9Im0tbC0xMCIgdGl0bGU9IkhpZGRlbiBjb2FjaC4gTWFrZSB2aXNpYmxlIiBocmVmPSJqYXZhc2NyaXB0OjsiIG9uY2xpY2s9ImNoYW5nZUhpZGRlblVzZXIoJytzcGxpdHRlZFswXSsnLCAnK3NwbGl0dGVkWzFdKycpIj48aSBjbGFzcz0iZmEgZmEtZXllLXNsYXNoIj48L2k+PC9hPic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVCdXR0b24gPSAnPGEgY2xhc3M9Im0tbC0xMCIgdGl0bGU9IlZpc2libGUgY29hY2guIE1ha2UgaGlkZGVuIiBocmVmPSJqYXZhc2NyaXB0OjsiIG9uY2xpY2s9ImNoYW5nZUhpZGRlblVzZXIoJytzcGxpdHRlZFswXSsnLCAnK3NwbGl0dGVkWzFdKycpIj48aSBjbGFzcz0iZmEgZmEtZXllIj48L2k+PC9hPic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocm93WzNdID09IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXN0VXNlckJ1dHRvbiA9ICc8YSBjbGFzcz0ibS1sLTEwIiB0aXRsZT0iVGVzdCBjb2FjaC4gTWFrZSByZWFsIiBocmVmPSJqYXZhc2NyaXB0OjsiIG9uY2xpY2s9ImNoYW5nZVRlc3RVc2VyKCcrc3BsaXR0ZWRbMF0rJywgJytyb3dbM10rJykiPlRlc3Q8L2E+JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVzdFVzZXJCdXR0b24gPSAnPGEgY2xhc3M9Im0tbC0xMCIgdGl0bGU9IlJlYWwgY29hY2guIE1ha2UgdGVzdCIgaHJlZj0iamF2YXNjcmlwdDo7IiBvbmNsaWNrPSJjaGFuZ2VUZXN0VXNlcignK3NwbGl0dGVkWzBdKycsICcrcm93WzNdKycpIj5SZWFsPC9hPic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9naW5CdXR0b24gPSAnPGEgY2xhc3M9Im0tbC0xMCBsb2dpbi1hcyIgdGl0bGU9IkxvZ2luIGFzIHRoaXMgdXNlciIgaHJlZj0ie3sgdXJsKCdsb2dpbi1hcy8nKSB9fS8nK3NwbGl0dGVkWzBdKyciPjxpIGNsYXNzPSJmYSBmYS1zaWduLWluIj48L2k+PC9hPic7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVkaXRCdXR0b24gKyBoaWRlQnV0dG9uICArIGRlbGV0ZUJ1dHRvbiArIHRlc3RVc2VyQnV0dG9uOy8vKyBsb2dpbkJ1dHRvbgogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAidGFyZ2V0cyI6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICJjbGFzc05hbWUiOiAidGV4dC1sZWZ0IiwKICAgICAgICAgICAgICAgICAgICAgICAgIndpZHRoIjogIjEwJSIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgJCgnI2NvYWNoZXMtdGFibGUgdGJvZHknKS5vbignY2xpY2snLCAnYS5sb2dpbi1hcycsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICB2YXIgbGluayA9ICQodGhpcykuYXR0cignaHJlZicpOwogICAgICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdDb25maXJtIHlvdXIgYWN0aW9uJywKICAgICAgICAgICAgICAgICAgICB0ZXh0OiAiTG9naW4gYXMgdGhpcyB1c2VyPyIsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3F1ZXN0aW9uJywKICAgICAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnTG9naW4nCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGxpbms7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CgogICAgICAgIH0pOwoKICAgICAgICBmdW5jdGlvbiBjaGFuZ2VIaWRkZW5Vc2VyKHVzZXJJZCwgaGlkZGVuT3B0aW9uKSB7CiAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgdGl0bGU6ICdDb25maXJtIHlvdXIgYWN0aW9uJywKICAgICAgICAgICAgICAgIGh0bWw6IChoaWRkZW5PcHRpb24gPT0gMCkgPyAnTWFrZSBoaWRkZW4/JyA6ICdNYWtlIHZpc2libGU/JywKICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ09rJywKICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICdDYW5jZWwnLAogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAnY29uZmlybScsCiAgICAgICAgICAgICAgICBzaG93TG9hZGVyT25Db25maXJtOiB0cnVlLAogICAgICAgICAgICAgICAgYWxsb3dPdXRzaWRlQ2xpY2s6IGZhbHNlLAogICAgICAgICAgICAgICAgcHJlQ29uZmlybTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3VzZXJJZCcsIHVzZXJJZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBmb3JtRGF0YSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ3shISByb3V0ZSgnYWRtaW4uY2hhbmdlSGlkZGVuVXNlcicpICEhfScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLmFqYXgucmVsb2FkKG51bGwsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCgnT29wcyEgU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSwgcmVsb2FkIHRoZSBwYWdlLicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QocmVzcG9uc2UucmVzcG9uc2VKU09OLmVycm9yKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MhJywKICAgICAgICAgICAgICAgICAgICBodG1sOiAnVXNlciBzdGF0dXMgc3VjY2Vzc2Z1bGx5IHVwZGF0ZWQhJywKICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiBmdW5jdGlvbigpIHsKCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICAvLyBDaGFuZ2UgVGVzdCAvIFJlYWwgVXNlcnMKICAgICAgICBmdW5jdGlvbiBjaGFuZ2VUZXN0VXNlcih1c2VySWQsIHRlc3RPcHRpb24pIHsKICAgICAgICAgICAgc3dhbCh7CiAgICAgICAgICAgICAgICB0aXRsZTogJ0NvbmZpcm0geW91ciBhY3Rpb24nLAogICAgICAgICAgICAgICAgaHRtbDogKHRlc3RPcHRpb24gPT0gMCkgPyAnTWFrZSB0aGlzIGNvYWNoIHRlc3Q/JyA6ICdNYWtlIHRoaXMgY29hY2ggcmVhbD8nLAogICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnT2snLAogICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ0NhbmNlbCcsCiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICdjb25maXJtJywKICAgICAgICAgICAgICAgIHNob3dMb2FkZXJPbkNvbmZpcm06IHRydWUsCiAgICAgICAgICAgICAgICBhbGxvd091dHNpZGVDbGljazogZmFsc2UsCiAgICAgICAgICAgICAgICBwcmVDb25maXJtOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgndXNlcklkJywgdXNlcklkKTsKICAgICAgICAgICAgICAgICAgICAgICAgJC5hamF4KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGZvcm1EYXRhLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAneyEhIHJvdXRlKCdhZG1pbi5jaGFuZ2VUZXN0VXNlcicpICEhfScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLmFqYXgucmVsb2FkKG51bGwsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCgnT29wcyEgU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSwgcmVsb2FkIHRoZSBwYWdlLicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QocmVzcG9uc2UucmVzcG9uc2VKU09OLmVycm9yKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MhJywKICAgICAgICAgICAgICAgICAgICBodG1sOiAnVXNlciBzdGF0dXMgc3VjY2Vzc2Z1bGx5IHVwZGF0ZWQhJywKICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiBmdW5jdGlvbigpIHsKCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBkZWxldGVVc2VyKHVzZXJJZCkgewogICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICAgIHRpdGxlOiAnQ29uZmlybSB5b3VyIGFjdGlvbicsCiAgICAgICAgICAgICAgICBodG1sOiAnRGVsZXRlIHRoaXMgY29hY2g/JywKICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ09rJywKICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICdDYW5jZWwnLAogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAnY29uZmlybScsCiAgICAgICAgICAgICAgICBzaG93TG9hZGVyT25Db25maXJtOiB0cnVlLAogICAgICAgICAgICAgICAgYWxsb3dPdXRzaWRlQ2xpY2s6IGZhbHNlLAogICAgICAgICAgICAgICAgcHJlQ29uZmlybTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3VzZXJJZCcsIHVzZXJJZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBmb3JtRGF0YSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ3t7IHVybCgnY29hY2hlcy9kZWxldGUnKSB9fS8nICsgdXNlcklkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFR5cGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJsZS5hamF4LnJlbG9hZChudWxsLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoJ09vcHMhIFNvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UsIHJlbG9hZCB0aGUgcGFnZS4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLmVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlc3BvbnNlLnJlc3BvbnNlSlNPTi5lcnJvcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBzd2FsKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTdWNjZXNzIScsCiAgICAgICAgICAgICAgICAgICAgaHRtbDogJ0NvYWNoIHdhcyBkZWxldGVkIScsCiAgICAgICAgICAgICAgICAgICAgb25DbG9zZTogZnVuY3Rpb24oKSB7CgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICA8L3NjcmlwdD4KQGVuZHNlY3Rpb24iO3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAbmFtZXNwYWNlcyI7YTowOnt9czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBpbmNsdWRlcyI7YTowOnt9czo0NDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBmdW5jdGlvbnMiO2E6MDp7fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAY29uc3RhbnRzIjthOjA6e31zOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNsYXNzZXMiO2E6MDp7fXM6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW50ZXJmYWNlcyI7YTowOnt9czo0MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQB0cmFpdHMiO2E6MDp7fX0=";